spring:
  application:
    name: account-service # 决定主配置Data ID
  cloud:
    nacos:
      server-addr: 127.0.0.1:8848
      config:
        file-extension: yaml
        # ========= 扩展配置 =========
        shared-configs[0]:
          data-id: log.yaml
          refresh: true
          # ========= 共享配置 =========
        shared-configs[1]:
          data-id: mybatis.yaml
          refresh: true
    sentinel:
      eager: true
      scg:
        enabled: false  # 如果用了 Spring Cloud Gateway，需关闭
      transport:
        dashboard: 127.0.0.1:8080  # Sentinel控制台地址
        port: 8719                 # 客户端通信端口
      datasource:
        flow:
          nacos:
            server-addr: ${spring.cloud.nacos.server-addr}
            data-id: ${spring.application.name}-flow-rules
            group-id: DEFAULT_GROUP
            rule-type: flow
        degrade:
          nacos:
            server-addr: ${spring.cloud.nacos.server-addr}
            data-id: ${spring.application.name}-degrade-rules
            group-id: DEFAULT_GROUP
            rule-type: degrade
      filter:
        enabled: true
        url-patterns:
          - /user/**    # 对该路径下的所有请求生效
      web-context-unify: false  # 关闭上下文合并
      http-method-specify: true # 区分HTTP方法
